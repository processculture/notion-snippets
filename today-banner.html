<html> 
<head>
    <title>Date Banner Widget for Notion</title> 
    <style>
      
      #tb-widget {
        display: flex;
        padding: 0px;
        padding-bottom: 10px;
        margin-left: -5px;
        border: 0;
        font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
        font-size: 18px;
        font-weight: normal;
        color: #3b3c36;
        justify-content: left;
        line-height: 1.5;
        height: auto;
        width: 100%;
        flex-direction: row;
      }

      #container {
        background: #f1f1ef;
        width: 100vw;
        height: 100vh;
        display: flex;
        flex-direction: column;
      }

      #date{
          font-size:18px;
          font-weight: normal;
          padding-left: 2px;
      }

      #banner-message {
          margin-bottom: 10px;
          padding-bottom: 10px;
          padding-left: 2px;
      }

      #banner-image {
          height: auto;
          width: 100%;
          max-width: 100%;
      }

      body{
          background-color: #ffffff;
          overflow: hidden; 
      }

      iframe {
          background-color: gray;
          overflow: hidden; 
      }

    </style>
</head>
    
<body>
    <div id="tb-widget"></div>
</body>

<script>
    const w = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
    const m = ["January", "February", "March", "April", "May", "June",
      "July", "August", "September", "October", "November", "December"
    ];

    
    var today = new Date();
    var day = w[today.getDay()];
    var date = `${day}, ${m[today.getMonth()]} ${today.getDate()}, ${today.getFullYear()}`;

    var bannerMessage;
    var h = today.getHours();
    var bannerMessage = (h < 12) ? 'Good Morning!  ' : ((h >= 12 && h <= 17) ? 'Good Afternoon! ' : 'Good Evening! ');

    var imageUrl = "https://source.unsplash.com/random/1200x900/?sunrise";

    if(h >= 9 && h <= 17){
        imageUrl = "https://source.unsplash.com/random/1200x900/?beach-house";
    }
    else if(h > 17 && h < 21){
     imageUrl = "https://source.unsplash.com/random/1200x900/?sunset";
    } 
    else if(h >= 21 || h < 5){
        imageUrl = "https://source.unsplash.com/random/1200x900/?night-sky";
    }
    
    document.getElementById('tb-widget').innerHTML = `
        <div id="container">
          <div id="date"> ${date}</div>
          <div id="banner-message">${bannerMessage}</div>
          <div id="banner-image">
                  <img src="${imageUrl}" style="max-width: 100%; width: 100%"/>
          </div>        
        <div/>
    `;
  
</script> 
</html>
